{% extends "base.html" %}
{% block title %}Suppliers list | {{ block.super }} {% endblock %}


{% block content %}

  <form method='GET' action='' class='d-flex row justify-content-center'>
    <div class='col-sm-6'>
        <div class='input-group'>
            <input class='form-control' type='text' name='q' placeholder='Search Supplier' value='{{ request.GET.q }}'/>
            <span class='input-group-btn'>
                <!-- <input class='btn btn-default' type='submit' value='Search' /> -->
                <button class='btn btn-default' type='submit'>Search <i class="fa fa-search"></i></button>
            </span>
        </div>
    </div>
  </form>

  <header class=' d-flex row justify-content-center'>
    <h2 class="mt-2 mb-2">
      Suppliers List
    </h2>
  </header> 
  <div class="table-responsive">
    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th>Supplier Name</th>
          <th>Address</th>
          <th>Contact</th>
          <th>Paid</th>
          <th>Total</th>
          <th>Edit</th>
          <th>Delete</th>
          <th title="click on the icon to add payment">Pays<i class="fas fa-dollar-sign"></i></th>
          <th>Import</th>
        </tr>
      </thead>
      {% for supplier in object_list %}
        <tbody>
          <tr>
            <td style="font-size: 20px;"><a href="{% url 'store:supplier_profile' supplier.store.slug supplier.slug %}"> {{ supplier.name }}</a></td>
            <td>{{ supplier.address }}</td>
            <td>{{ supplier.contact }}</td>
            <td>{{ supplier.paid_payments }}</td>
            <td>{{ supplier.payments_should_be_paid }}</td>
            <td><a href="{% url 'store:update_supplier' supplier.store.slug supplier.slug %}">
              <i class="fa fa-edit fa-2x" aria-hidden="true"></i></a></td>
            <td><a href="{% url 'store:delete_supplier' supplier.store.slug supplier.slug %}">
              <i class="fa fa-trash text-danger fa-2x" aria-hidden="true"></i></a></td>
            <td>
              {% if supplier.paid_payments >= supplier.payments_should_be_paid %}
                <a href="{% url 'store:add_supplier_payment' supplier.store.slug supplier.slug %}">
                  <i class="fa fa-check fa-2x text-success" aria-hidden="true"></i>
                </a>
              {% else %}
                <a href="{% url 'store:add_supplier_payment' supplier.store.slug supplier.slug %}">
                  <i class="fa fa-cross fa-2x text-danger" aria-hidden="true"></i>
                </a>
              {% endif %}
            </td>
            <td><a href="{% url 'store:add_import' supplier.store.slug supplier.slug %}"><i class="fas fa-arrow-circle-down text-warning fa-2x"></i></a></td>
          </tr>
        </tbody>
      {% endfor %}
    </table>
  </div>

{% endblock content %}
